<div class="container" ng-controller="DateTimeController as datetime">
  <h1 class="text-center">Update An Event</h1>

  <form ng-submit="updateEvent.update()" name="editEvent.form" novalidate>

    <div class="form-group" show-errors="{ showSuccess: true }">
      <label for="title">Title:</label>
      <div>
        <input class="form-control" type="text" name="title" ng-model="updateEvent.selected.title" placeholder="Title" required>
        <p class="help-block" ng-if="editEvent.form.title.$error.required">Your event needs a title!</p>
      </div>
    </div>

    <div class="form-group" show-errors="{ showSuccess: true }">
      <label for="description">Description:</label>
      <div>
        <textarea class="form-control" rows="5" type="text" name="description" ng-model="updateEvent.selected.description" placeholder="Description" required></textarea>
        <p class="help-block" ng-if="editEvent.form.description.$error.required">Doesn't need to be long, but we need a description.</p>
      </div>
    </div>

    <div class="form-group">
      <label for="date">Date and time:</label>
      <div>
        <datetimepicker
        ng-model="updateEvent.selected.date"
        hour-step="hourStep" 
        minute-step="minuteStep"
        date-format="{{format}}" 
        show-meridian="false" 
        date-options="dateOptions"
        date-disabled="disabled(date, mode)" 
        datepicker-append-to-body="false"
        name="datetimepicker"
        show-spinners="true"
        readonly-time="false"
        date-opened="dateOpened"
        show-button-bar="false"
        required
        >
        <!-- Use date-ng-click="open($event, opened)" to override date ng-click -->
        </datetimepicker>
      </div>
    </div>

    <div class="form-group" show-errors="{ showSuccess: true }">
      <label for="location">Location:</label>
      <div>
        <input class="form-control" type="text" autocomplete options="{ country: 'gb', watchEnter: true }" name="location" ng-model="updateEvent.selected.location" placeholder="Location" required>
        <p class="help-block" ng-if="editEvent.form.location.$error.required">Please include a location</p>
      </div>
    </div>

    <div class="form-group">
      <label for="image">Image:</label>
      <input class="form-control" type="file" file name="image" ng-model="updateEvent.selected.image" placeholder="image link (optional)">
    </div>

    <div class="form-group">
      <label for="registrationUrl">Registration:</label>
      <input class="form-control" type="text" name="registrationUrl" ng-model="updateEvent.selected.registrationUrl" placeholder="Register or RSVP link (optional)">
    </div>

    <!-- Add checkbox selectors for various types of events (will require a new data model in the API, probably?) -->
    <!-- <input type="checkboxes" name="type" ng-model="events.selected.types"> -->
    <div class="text-center">
      <button class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-danger" ui-sref="showEvent({ id: updateEvent.selected._id })">Cancel</button>
    </div>

  </form>
</div>
